<?php

$departements["01"] = ["name" => "Ain", "pop" => 662412];
$departements["02"] = ["name" => "Aisne", "pop" => 525739];
$departements["03"] = ["name" => "Allier", "pop" => 331947];
$departements["04"] = ["name" => "Alpes-de-Haute-Provence", "pop" => 165767];
$departements["05"] = ["name" => "Hautes-Alpes", "pop" => 140074];
$departements["06"] = ["name" => "Alpes-Maritimes", "pop" => 1089447];
$departements["07"] = ["name" => "Ardèche", "pop" => 327878];
$departements["08"] = ["name" => "Ardennes", "pop" => 265213];
$departements["09"] = ["name" => "Ariège", "pop" => 153122];
$departements["10"] = ["name" => "Aube", "pop" => 310222];
$departements["11"] = ["name" => "Aude", "pop" => 377716];
$departements["12"] = ["name" => "Aveyron", "pop" => 279168];
$departements["13"] = ["name" => "Bouches-du-Rhône", "pop" => 2048660];
$departements["14"] = ["name" => "Calvados", "pop" => 692932];
$departements["15"] = ["name" => "Cantal", "pop" => 143366];
$departements["16"] = ["name" => "Charente", "pop" => 349158];
$departements["17"] = ["name" => "Charente-Maritime", "pop" => 652541];
$departements["18"] = ["name" => "Cher", "pop" => 296919];
$departements["19"] = ["name" => "Corrèze", "pop" => 239019];
$departements["2A"] = ["name" => "Corse-du-Sud", "pop" => 162747];
$departements["2B"] = ["name" => "Haute-Corse", "pop" => 186526];
$departements["21"] = ["name" => "Côte-d'Or", "pop" => 532266];
$departements["22"] = ["name" => "Côtes-d'Armor", "pop" => 599149];
$departements["23"] = ["name" => "Creuse", "pop" => 114490];
$departements["24"] = ["name" => "Dordogne", "pop" => 410786];
$departements["25"] = ["name" => "Doubs", "pop" => 543538];
$departements["26"] = ["name" => "Drôme", "pop" => 523191];
$departements["27"] = ["name" => "Eure", "pop" => 595218];
$departements["28"] = ["name" => "Eure-et-Loir", "pop" => 428333];
$departements["29"] = ["name" => "Finistère", "pop" => 914376];
$departements["30"] = ["name" => "Gard", "pop" => 750776];
$departements["31"] = ["name" => "Haute-Garonne", "pop" => 1424864];
$departements["32"] = ["name" => "Gers", "pop" => 191439];
$departements["33"] = ["name" => "Gironde", "pop" => 1654372];
$departements["34"] = ["name" => "Hérault", "pop" => 1196536];
$departements["35"] = ["name" => "Ille-et-Vilaine", "pop" => 1094677];
$departements["36"] = ["name" => "Indre", "pop" => 216867];
$departements["37"] = ["name" => "Indre-et-Loire", "pop" => 609628];
$departements["38"] = ["name" => "Isère", "pop" => 1271577];
$departements["39"] = ["name" => "Jura", "pop" => 258023];
$departements["40"] = ["name" => "Landes", "pop" => 416832];
$departements["41"] = ["name" => "Loir-et-Cher", "pop" => 326489];
$departements["42"] = ["name" => "Loire", "pop" => 765297];
$departements["43"] = ["name" => "Haute-Loire", "pop" => 227650];
$departements["44"] = ["name" => "Loire-Atlantique", "pop" => 1459116];
$departements["45"] = ["name" => "Loiret", "pop" => 684195];
$departements["46"] = ["name" => "Lot", "pop" => 174232];
$departements["47"] = ["name" => "Lot-et-Garonne", "pop" => 329960];
$departements["48"] = ["name" => "Lozère", "pop" => 76557];
$departements["49"] = ["name" => "Maine-et-Loire", "pop" => 819824];
$departements["50"] = ["name" => "Manche", "pop" => 491532];
$departements["51"] = ["name" => "Marne", "pop" => 561972];
$departements["52"] = ["name" => "Haute-Marne", "pop" => 168316];
$departements["53"] = ["name" => "Mayenne", "pop" => 305521];
$departements["54"] = ["name" => "Meurthe-et-Moselle", "pop" => 730036];
$departements["55"] = ["name" => "Meuse", "pop" => 179154];
$departements["56"] = ["name" => "Morbihan", "pop" => 763095];
$departements["57"] = ["name" => "Moselle", "pop" => 1038901];
$departements["58"] = ["name" => "Nièvre", "pop" => 199659];
$departements["59"] = ["name" => "Nord", "pop" => 2598803];
$departements["60"] = ["name" => "Oise", "pop" => 830002];
$departements["61"] = ["name" => "Orne", "pop" => 275186];
$departements["62"] = ["name" => "Pas-de-Calais", "pop" => 1455508];
$departements["63"] = ["name" => "Puy-de-Dôme", "pop" => 669648];
$departements["64"] = ["name" => "Pyrénées-Atlantiques", "pop" => 688627];
$departements["65"] = ["name" => "Hautes-Pyrénées", "pop" => 229315];
$departements["66"] = ["name" => "Pyrénées-Orientales", "pop" => 480318];
$departements["67"] = ["name" => "Bas-Rhin", "pop" => 1147820];
$departements["68"] = ["name" => "Haut-Rhin", "pop" => 764044];
$departements["69"] = ["name" => "Rhône", "pop" => 1893147];
$departements["70"] = ["name" => "Haute-Saône", "pop" => 233508];
$departements["71"] = ["name" => "Saône-et-Loire", "pop" => 547409];
$departements["72"] = ["name" => "Sarthe", "pop" => 562301];
$departements["73"] = ["name" => "Savoie", "pop" => 437711];
$departements["74"] = ["name" => "Haute-Savoie", "pop" => 838774];
$departements["75"] = ["name" => "Paris", "pop" => 2142903];
$departements["76"] = ["name" => "Seine-Maritime", "pop" => 1251224];
$departements["77"] = ["name" => "Seine-et-Marne", "pop" => 1432577];
$departements["78"] = ["name" => "Yvelines", "pop" => 1453311];
$departements["79"] = ["name" => "Deux-Sèvres", "pop" => 374461];
$departements["80"] = ["name" => "Somme", "pop" => 567410];
$departements["81"] = ["name" => "Tarn", "pop" => 389443];
$departements["82"] = ["name" => "Tarn-et-Garonne", "pop" => 262265];
$departements["83"] = ["name" => "Var", "pop" => 1084899];
$departements["84"] = ["name" => "Vaucluse", "pop" => 560814];
$departements["85"] = ["name" => "Vendée", "pop" => 691298];
$departements["86"] = ["name" => "Vienne", "pop" => 439004];
$departements["87"] = ["name" => "Haute-Vienne", "pop" => 370517];
$departements["88"] = ["name" => "Vosges", "pop" => 359139];
$departements["89"] = ["name" => "Yonne", "pop" => 333182];
$departements["90"] = ["name" => "Territoire de Belfort", "pop" => 138620];
$departements["91"] = ["name" => "Essonne", "pop" => 1315683];
$departements["92"] = ["name" => "Hauts-de-Seine", "pop" => 1633217];
$departements["93"] = ["name" => "Seine-Saint-Denis", "pop" => 1669509];
$departements["94"] = ["name" => "Val-de-Marne", "pop" => 1418960];
$departements["95"] = ["name" => "Val-d'Oise", "pop" => 1260269];
$departements["971"] = ["name" => "Guadeloupe ", "pop" => 375857];
$departements["972"] = ["name" => "Martinique ", "pop" => 355094];
$departements["973"] = ["name" => "Guyane", "pop" => 294071];
$departements["974"] = ["name" => "La Réunion", "pop" => 858450];
$departements["976"] = ["name" => "Mayotte", "pop" => 288926];


if (($handle = fopen("https://www.data.gouv.fr/fr/datasets/r/7969c06d-848e-40cf-9c3c-21b5bd5a874b", "r")) !== FALSE) {
	$row = 0;
    while (($data = fgetcsv($handle, 1000, ";")) !== FALSE) {
		if($row > 0) {
            if($data[0] != "00" && $data[0] != "970" && $data[0] != 977) {
                $vaccinDep[$data[0]]['first'] = intval($data[2]); 		
				$vaccinDep[$data[0]]['second'] = intval($data[3]);
            }
		}
        $row++;
    }
    fclose($handle);
}